<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulação de Compra</title>
</head>
<body>

    <h1>E-commerce</h1>

    <div>
        <label for="product">Produto:</label>
        <input type="text" id="product" placeholder="Nome do produto">
        <label for="price">Preço:</label>
        <input type="number" id="price" placeholder="Preço do produto">
        <label for="quantity">Quantidade:</label>
        <input type="number" id="quantity" placeholder="Quantidade">

        <button onclick="addToCart()">Adicionar ao Carrinho</button>
    </div>

    <h2>Carrinho</h2>
    <ul id="cart"></ul>
    <p id="total">Total: R$ 0.00</p>

    <div>
        <label for="removeProduct">Remover Produto:</label>
        <input type="text" id="removeProduct" placeholder="Nome do produto">
        <button onclick="removeFromCart()">Remover do Carrinho</button>
    </div>

    <div>
        <button onclick="checkout()">Finalizar Compra</button>
    </div>

    <script>
        let cart = [];

        function addToCart() {
            const product = document.getElementById("product").value;
            const price = parseFloat(document.getElementById("price").value);
            const quantity = parseInt(document.getElementById("quantity").value);

            if (product && !isNaN(price) && !isNaN(quantity) && quantity > 0) {
                const item = { product, price, quantity };
                cart.push(item);
                updateCart();
            } else {
                alert("Preencha os campos corretamente.");
            }
        }

        function updateCart() {
            const cartList = document.getElementById("cart");
            const totalElement = document.getElementById("total");

            cartList.innerHTML = "";
            let total = 0;

            cart.forEach(item => {
                const listItem = document.createElement("li");
                listItem.textContent = `${item.product} - R$ ${item.price.toFixed(2)} x ${item.quantity}`;
                cartList.appendChild(listItem);
                total += item.price * item.quantity;
            });

            totalElement.textContent = `Total: R$ ${total.toFixed(2)}`;
        }

        function removeFromCart() {
            const productName = document.getElementById("removeProduct").value;
            const index = cart.findIndex(item => item.product === productName);

            if (index !== -1) {
                cart.splice(index, 1);
                updateCart();
            } else {
                alert("Produto não encontrado no carrinho.");
            }
        }

        function checkout() {
            const continueShopping = confirm("Deseja continuar comprando?");
            
            if (!continueShopping) {
                const paymentMethod = prompt("Escolha o método de pagamento (cartao/boleto):").toLowerCase();

                if (paymentMethod === "cartao" || paymentMethod === "boleto") {
                    alert(`Compra finalizada! Método de pagamento: ${paymentMethod}`);
                } else {
                    alert("Método de pagamento inválido. Compra cancelada.");
                }
            }
        }
    </script>

</body>
</html>
